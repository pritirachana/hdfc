<!DOCTYPE html>
<html lang="en">

<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<link rel="stylesheet" href="css/notiflix.css">

<head>
  <title>Registration - Lokmat Property Expo</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" type="image/png" href="images/icons/lokmat.png" />

  <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">

  <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" type="text/css" href="css/util.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <style>
    .notiflix-report-message{
      font-size: 27px !important;
    }
    .err{
      color: red !important;
    }
    @media screen and (max-width: 480px) {
      .js-tilt {
      max-width: 269px !important;
  }
}
@media screen and (max-width:1200px) {
      .js-tilt {
        max-width: 313px !important;
  }
}
@media screen and (max-width:768px) {
      .js-tilt {
        max-width: 313px !important;
  }
}
  </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174030561-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-174030561-10');
</script> -->

</head>

<body style="
background-image: url('images/Vertex-Virtual-Platform.jpg');
min-height: 100%;
    background-position: center;
    background-repeat: no-repeat;
    background-size: 100% 135vh;
    position: relative;
">

  <div class="limiter">
    <div class="container-login100">
      <div class="wrap-login100">
        <div class="login100-pic js-tilt" data-tilt>
          <img src="https://iisfvirtex.s3.ap-south-1.amazonaws.com/images/Lokmat+PROPERTY+EXPO+2022.png" alt="IMG">
        </div>
        <form class="login100-form validate-form" id="RegForm">
          <span class="login100-form-title">
            Registration
          </span>
          <input class="input100" type="text" name="FullName" placeholder="Full Name" id="first_name">
          <span class="focus-input100"></span>
          <span class="symbol-input100">
          </span>
          <input class="input100" type="email" name="Email" placeholder="Email" id="Email">
          <span class="focus-input100"></span>
          <span class="symbol-input100">
          </span>
          <input class="input100" type="text" name="number" placeholder="Mobile Number" id="Phone">
          <span class="focus-input100"></span>
          <span class="symbol-input100">
          </span>

          <select class="form-control form-control input100" id="Annual" style="padding: 11px 0px 0px;" type="text">
            <option value="">Select City</option>
            <option value="Nagpur">Nagpur</option>
            <option value="Amravati">Amravati</option>
            <option value="Akola">Akola</option>
            <option value="Jalgaon">Jalgaon</option>
            <option value="Nashik">Nashik</option>
            <option value="Mumbai">Mumbai</option>
            <option value="Goa">Goa</option>
            <option value="Pune">Pune</option>
            <option value="Aurangabad">Aurangabad</option>
            <option value="Kolhapur">Kolhapur</option>
            <option value="Navi Mumbai">Navi Mumbai</option>
          </select>

          <!-- <div class="form-check">
            <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="Self used"
              checked>
            <label class="form-check-label" for="exampleRadios1">
              Self Use
            </label>
          </div> -->
          <!-- <div class="form-check">
            <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="Investment"
              checked>
            <label class="form-check-label" for="exampleRadios1">
              Investment
            </label>
          </div> -->
          <div class="container-login100-form-btn">
            <span class="err"></span>
          </div>
          <div class="container-login100-form-btn">
            <button class="login100-form-btn" id="register-btn1">
              Register
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous">
    </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="js/notiflix.js"></script>
  <script>
    $('#first_name').on('keypress', function (event) {
      var regex = new RegExp("^[0-9a-zA-Z \b]+$");
      var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
      if (!regex.test(key)) {
        event.preventDefault();
        return false;
      }
    });
    $('#Phone').on('keypress', function (e) {
      var $this = $(this);
      var regex = new RegExp("^[0-9\b]+$");
      var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
      if ($this.val().length > 9) {
        $(".err").empty();
        e.preventDefault();
        return false;
      }
      if (e.charCode < 54 && e.charCode > 47) {
        if ($this.val().length == 0) {
          e.preventDefault();
          return false;
        } else {
          return true;
        }
      }
      if (regex.test(str)) {
        return true;
      }
      e.preventDefault();
      return false;
    });

    function isEmail(Email) {
      var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      return regex.test(Email);
    }
    $("#register-btn1").on('click', function (e) {
      e.preventDefault();
      var userName = $("#first_name").val();
      var userEmail = $("#Email").val();
      var userPhone = $("#Phone").val();
      var userCity = $("#Annual").val();
      if (userName != "" && userEmail != "" && userPhone != "" && userCity != "") {
        if (isEmail(userEmail)) {
          $.ajax({
            url: 'https://devapi.virtex.in/alluser/register-copy',
            type: 'POST',
            data: {
              "eventId": "17", 
              'userName': userName,
              'userEmail': userEmail,
              'userPhone': userPhone,
              'userCity': userCity
            },
            beforeSend: function () {
              Notiflix.Loading.Circle();
            },
            success: function(data) {
                console.log(data);
                if (data.success == true) {
                    Notiflix.Loading.Remove();
                    Notiflix.Report.Success('Success', 'Thank You!', 'Okay');
                    $("#RegForm")[0].reset();
                    setTimeout(() => {
                      window.location.href = "../login";  
                    }, 2000);
                } else {
                    console.log(data);
                    Notiflix.Report.Failure('Failure', data.message, 'Okay');
                    Notiflix.Loading.Remove();
                    $("#RegForm")[0].reset();
                }
            }
          });
        
        }
        else {
          $(".err").show().text("Invalid Email").delay(5000).fadeOut('slow');
          // Notiflix.Report.Failure('Failure', data.message, 'Okay');
        }
      }
      else {
        $(".err").show().text("All fields are required").delay(5000).fadeOut('slow');
        // Notiflix.Report.Failure('Failure', data.message, 'Okay');/
      }
    });
  </script>
</body>

</html>